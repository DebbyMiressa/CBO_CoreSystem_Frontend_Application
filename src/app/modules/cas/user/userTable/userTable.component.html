<p-messages style="position: absolute; z-index: 1; right: 1em; margin: -1em 0;" [value]="msgs"></p-messages>
<div class="card" >
    <h5>User Table</h5>
    <p-table #dt0 [value]="users" selectionMode="single" [tableStyle]="{'min-width': '50rem'}" [(selection)]="selectedCustomer1"
     dataKey="id" styleClass="p-datatable-customers" [showCurrentPageReport]="true"
     currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[8,16,25,50]"
        [rows]="8" [paginator]="true" stateStorage="local" stateKey="statedemo-local0">
        <ng-template pTemplate="header">
            <tr>
                <th scope="col"  pSortableColumn="id" style="width:8%">ID<p-sortIcon field="id"></p-sortIcon></th>
                <th scope="col" pSortableColumn="username" style="width:15%">UserName<p-sortIcon field="username"></p-sortIcon></th>
                <th scope="col" pSortableColumn="employee.givenName" style="width:15%">Employee<p-sortIcon field="employee.givenName"></p-sortIcon></th>
                <th scope="col" pSortableColumn="employee.division.name" style="width:15%">Division<p-sortIcon field="employee.division.name"></p-sortIcon></th>
                <th scope="col" pSortableColumn="users.active" style="width:10%">State<p-sortIcon field="users.active"></p-sortIcon></th>
                <th scope="col" pSortableColumn="users.role" style="width:10%">Role<p-sortIcon field="users.role"></p-sortIcon></th>
                <th scope="col" pSortableColumn="Action" style="width:30%">Actions</th>
            </tr>
            <tr>
                <th scope="col"></th>
                <th scope="col"> <input pInputText type="text" (input)="dt0.filter($any($event.target)?.value, 'username', 'contains')"
                    [value]="$any(dt0.filters['username'])?.value" placeholder="Search by UserName" class="p-column-filter"></th>
                <th scope="col"> <input pInputText type="text" (input)="dt0.filter($any($event.target)?.value, 'employee.givenName', 'contains')"
                    [value]="$any(dt0.filters['employee.givenName'])?.value" placeholder="Search by Employee" class="p-column-filter"></th>
                <th scope="col"> <input pInputText type="text" (input)="dt0.filter($any($event.target)?.value, 'employee.division.name', 'contains')"
                    [value]="$any(dt0.filters['employee.division.name'])?.value" placeholder="Search by Division" class="p-column-filter"></th>
                <th scope="col"></th>
                <th scope="col"></th>
                <th scope="col"></th>
            </tr>
            <p-confirmDialog [style]="{width: '50vw'}" key="positionDialog" [position]="position" [baseZIndex]="10000"></p-confirmDialog>

        </ng-template>

        <ng-template pTemplate="body" let-users>
            <tr [pSelectableRow]="users">
                <td>{{users.id}}</td>
                <td>{{users.username}}</td>
                <td>{{users?.employee?.givenName + " " + users?.employee?.fatherName}}</td>
                <td>{{users?.employee?.division?.name}}</td>
                <td [ngStyle]="{color: users.active == true ? 'Green' : 'Red'}">{{ users.active ? 'Active' : 'Inactive' }}</td>
                <td *ngFor="let role of users.roles">{{role.name}}</td>
                <td>
                    <button pButton (click)="updateUsers(users.id)" [ngClass]="{updateBlue: true}" class="p-button-sm" label="Update"></button>
                    <!-- <button pButton (click)="confirmPosition('center', users.id)" class="p-button-sm" label="Delete"></button> -->
                </td>
            </tr>

        </ng-template>



        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="7">Not found.</td>
            </tr>
        </ng-template>
    </p-table>
    </div>



